<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surveillance Terminal - Demonstration</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');

        :root {
            --main-color: #00ff88; /* Accent Green */
            --text-color: #e0e0e0;
            --bg-color: #000;
            --pane-bg-color: #0a0a0a;
            --border-color: #333;
            --glow-color: rgba(0, 255, 136, 0.3);
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Share Tech Mono', monospace;
            margin: 0;
            padding: 0;
            overflow: hidden;
            cursor: crosshair;
        }

        #header {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px;
            letter-spacing: 5px;
            color: var(--main-color);
            text-shadow: 0 0 15px var(--glow-color);
            opacity: 0;
            animation: fadeIn 2s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        #initial-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            transition: opacity 0.5s ease;
        }

        #start-btn {
            font-family: 'Share Tech Mono', monospace;
            font-size: 22px;
            color: var(--bg-color);
            background: var(--main-color);
            padding: 20px 60px;
            border: 2px solid var(--main-color);
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 4px;
            box-shadow: 0 0 20px var(--glow-color);
            transition: all 0.3s ease;
        }

        #start-btn:hover {
            background: var(--bg-color);
            color: var(--main-color);
            box-shadow: 0 0 30px var(--glow-color), inset 0 0 20px rgba(0, 255, 136, 0.2);
        }

        #window-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none; /* Allow clicks to pass through if needed, but windows will have their own pointers */
        }

        .popup-window {
            position: absolute;
            width: 300px;
            height: 220px;
            background-color: var(--pane-bg-color);
            border: 1px solid var(--border-color);
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            pointer-events: auto;

            /* Initial state: centered and invisible */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            transition: top 1s ease-out, left 1s ease-out, transform 0.8s ease-out, opacity 0.8s ease-out;
        }

        .popup-window.visible {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .window-header {
            padding: 4px;
            background: var(--border-color);
            color: var(--text-color);
            font-size: 12px;
            text-align: center;
            flex-shrink: 0;
        }

        .window-content {
            padding: 8px;
            flex-grow: 1;
            overflow: hidden;
            font-size: 11px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .window-content pre {
            white-space: pre-wrap;
            word-break: break-all;
            font-size: 10px;
            line-height: 1.2;
            height: 100%;
            overflow: hidden;
        }

        .window-content .start-btn-small {
            font-family: 'Share Tech Mono', monospace;
            font-size: 16px;
            padding: 10px 20px;
            background: transparent;
            border: 1px solid var(--main-color);
            color: var(--main-color);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .window-content .start-btn-small:hover {
            background: var(--main-color);
            color: var(--bg-color);
        }
        
        /* Detail content styles */
        .status-bar {
            width: 100%;
            height: 8px;
            border: 1px solid var(--main-color);
            margin: 4px 0;
        }
        .status-bar-inner {
            height: 100%;
            background-color: var(--main-color);
        }
        .waveform-widget svg {
            width: 100%;
            height: 100%;
        }
        .waveform-widget .line {
            stroke: var(--main-color);
            stroke-width: 1;
            fill: none;
        }
        .face-id {
            width: 80px;
            height: 80px;
            border: 2px dashed var(--main-color);
            margin: 0 auto 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            color: var(--main-color);
        }

    </style>
</head>
<body>

    <div id="header">TERMINAL VORFÜHRUNG</div>

    <div id="initial-container">
        <button id="start-btn">Start Now</button>
    </div>

    <div id="window-container"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const startBtn = document.getElementById('start-btn');
            const initialContainer = document.getElementById('initial-container');
            const windowContainer = document.getElementById('window-container');
            const numWindows = 10;
            let secondClickTriggered = false;

            const contentGenerators = [
                generateHexDump,
                generateBinaryStream,
                generateSystemStatus,
                generateWaveform,
                generateCodeSnippet,
                generateTargetInfo,
                generateLog,
                generateNetworkTraffic,
                generateSpectrogram,
                generateFaceID
            ];

            startBtn.addEventListener('click', () => {
                // Fade out the initial button
                initialContainer.style.opacity = '0';
                setTimeout(() => {
                    initialContainer.style.display = 'none';
                }, 500);

                // Create and scatter windows
                for (let i = 0; i < numWindows; i++) {
                    createWindow(i);
                }
            });

            function create_UUID(){
                var dt = new Date().getTime();
                var uuid = 'xxxx-xxxx-4xxx-yxxx'.replace(/[xy]/g, function(c) {
                    var r = (dt + Math.random()*16)%16 | 0;
                    dt = Math.floor(dt/16);
                    return (c=='x' ? r :(r&0x3|0x8)).toString(16);
                });
                return uuid.toUpperCase();
            }

            function createWindow(index) {
                const win = document.createElement('div');
                win.className = 'popup-window';
                win.innerHTML = `
                    <div class="window-header">NODE ${create_UUID().substring(0, 8)}</div>
                    <div class="window-content">
                        <button class="start-btn-small">Start Now</button>
                    </div>
                `;
                windowContainer.appendChild(win);

                // Add click listener to the small button
                win.querySelector('.start-btn-small').addEventListener('click', () => {
                    if (secondClickTriggered) return;
                    secondClickTriggered = true;
                    populateAllWindows();
                });

                // Use a timeout to ensure the transition is applied after the element is in the DOM
                setTimeout(() => {
                    win.classList.add('visible');
                    // Scatter them randomly
                    win.style.top = `${Math.random() * 80 + 10}%`;
                    win.style.left = `${Math.random() * 80 + 10}%`;
                }, 50 * index); // Stagger the animation
            }

            function populateAllWindows() {
                const allWindows = document.querySelectorAll('.popup-window');
                allWindows.forEach((win, index) => {
                    const contentDiv = win.querySelector('.window-content');
                    contentDiv.innerHTML = ''; // Clear the button
                    contentDiv.style.alignItems = 'flex-start'; // Reset alignment for content
                    contentDiv.style.justifyContent = 'flex-start';

                    // Assign a generator to each window
                    const generator = contentGenerators[index % contentGenerators.length];
                    generator(contentDiv);
                });
            }

            // --- CONTENT GENERATOR FUNCTIONS ---
            // These create the detailed surveillance content

            function generateHexDump(container) {
                let content = 'ADDRESS   DATA\n';
                for (let i = 0; i < 12; i++) {
                    let line = `0x${(0x1000 + i * 16).toString(16)}: `;
                    for (let j = 0; j < 8; j++) {
                        line += Math.floor(Math.random() * 256).toString(16).padStart(2, '0') + ' ';
                    }
                    content += line.trim() + '\n';
                }
                const pre = document.createElement('pre');
                pre.textContent = content;
                container.appendChild(pre);
            }

            function generateBinaryStream(container) {
                let content = '';
                for (let i = 0; i < 1500; i++) {
                    content += Math.round(Math.random());
                }
                const pre = document.createElement('pre');
                pre.textContent = content;
                container.appendChild(pre);
            }

            function generateSystemStatus(container) {
                const cpu = Math.random() * 40 + 60;
                const mem = Math.random() * 50 + 45;
                const net = Math.random() * 80 + 10;
                container.style.fontSize = '12px';
                container.innerHTML = `
                    <div>CPU LOAD: ${cpu.toFixed(2)}%</div>
                    <div class="status-bar"><div class="status-bar-inner" style="width: ${cpu}%"></div></div>
                    <div>MEM USAGE: ${mem.toFixed(2)}%</div>
                    <div class="status-bar"><div class="status-bar-inner" style="width: ${mem}%"></div></div>
                    <div>NET I/O: ${net.toFixed(2)}%</div>
                    <div class="status-bar"><div class="status-bar-inner" style="width: ${net}%"></div></div>
                    <div style="margin-top: 10px;">STATUS: <span style="color: var(--main-color)">STABLE</span></div>
                `;
            }

            function generateWaveform(container) {
                container.classList.add('waveform-widget');
                const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('class', 'line');
                svg.appendChild(path);
                container.appendChild(svg);

                const width = 280; // approx width of content area
                const height = 180;
                let d = 'M 0 ' + (height / 2);
                for (let i = 0; i < width; i += 10) {
                    d += ` L ${i} ${height / 2 + (Math.random() - 0.5) * height * 0.8}`;
                }
                path.setAttribute('d', d);
            }

            function generateCodeSnippet(container) {
                const code = `
import socket
def scan(target, port):
  s = socket.socket(
    socket.AF_INET,
    socket.SOCK_STREAM
  )
  s.settimeout(1)
  conn = s.connect_ex(
    (target, port)
  )
  if not conn:
    print(f'[+] Port {port} OPEN')
  s.close()
                `;
                const pre = document.createElement('pre');
                pre.textContent = code.trim();
                container.appendChild(pre);
            }

            function generateTargetInfo(container) {
                const names = ["JOHN DOE", "AGENT X", "NIGHTHAWK", "UNKNOWN"];
                const statuses = ["ACTIVE", "EVADING", "CONTAINED", "UNKNOWN"];
                container.style.fontSize = '12px';
                container.innerHTML = `
                    <div>ID: <span style="color: #ff3333">${names[Math.floor(Math.random()*names.length)]}</span></div>
                    <div style="margin-top: 10px;">STATUS: ${statuses[Math.floor(Math.random()*statuses.length)]}</div>
                    <div style="margin-top: 10px;">LOCATION: 48.85° N, 2.35° E</div>
                    <div style="margin-top: 10px;">THREAT LEVEL: CRITICAL</div>
                    <div style="margin-top: 10px;">LAST SEEN: 2 MIN AGO</div>
                    <div style="margin-top: 10px;">OBJECTIVE: DATA EXTRACTION</div>
                `;
            }

            function generateLog(container) {
                let content = 'TIMESTAMP - EVENT\n';
                const events = ["AUTH_FAIL", "SYS_CALL", "NET_PING", "ACCESS_OK", "PROC_KILL"];
                for (let i = 0; i < 8; i++) {
                    const time = new Date().getTime() - Math.random() * 10000;
                    content += `${time}: ${events[Math.floor(Math.random()*events.length)]}\n`;
                }
                const pre = document.createElement('pre');
                pre.textContent = content;
                container.appendChild(pre);
            }

            function generateNetworkTraffic(container) {
                let content = 'SRC_IP -> DST_IP [PROTO]\n';
                for (let i = 0; i < 8; i++) {
                    const ip1 = `${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.x.x`;
                    const ip2 = `${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.x.x`;
                    content += `${ip1} -> ${ip2} [TCP]\n`;
                }
                const pre = document.createElement('pre');
                pre.textContent = content;
                container.appendChild(pre);
            }

            function generateSpectrogram(container) {
                container.style.background = `linear-gradient(to top, 
                    hsl(${Math.random()*60 + 200}, 100%, 50%), 
                    hsl(${Math.random()*60 + 100}, 100%, 50%), 
                    hsl(${Math.random()*60}, 100%, 50%)
                )`;
                container.innerHTML = `<div style="color: #fff; background: #0005; padding: 5px;">VOICEPRINT ANALYSIS</div>`;
            }

            function generateFaceID(container) {
                const match = Math.random() * 30 + 70;
                container.style.fontSize = '12px';
                container.innerHTML = `
                    <div class="face-id">?</div>
                    <div>MATCH: ${match.toFixed(2)}%</div>
                    <div>SOURCE: CCTV_FEED_04B</div>
                    <div>ID: PENDING...</div>
                `;
            }

        });
    </script>

</body>

